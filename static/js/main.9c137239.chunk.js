(this["webpackJsonpretirement-calculator"]=this["webpackJsonpretirement-calculator"]||[]).push([[0],{139:function(e,a,t){e.exports={header:"Menu_header__2qNDD",click:"Menu_click__3dA3L"}},140:function(e,a,t){e.exports={click:"Home_click__1HOmN"}},171:function(e,a,t){e.exports=t(358)},176:function(e,a,t){},358:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(59),o=t.n(c),i=(t(176),t(8)),l=t(35);function u(e){var a=e.children;return r.a.createElement("div",{className:"app"},r.a.createElement(l.a,null,a))}var m=t(139),s=t.n(m);var d=function(){return r.a.createElement("header",{className:s.a.header},r.a.createElement("aside",null,"financial tools"),r.a.createElement("nav",null,r.a.createElement(l.b,{to:"/"},"Home"),r.a.createElement(l.b,{to:"/early-retirement"},"Early Retirement")))},f=t(140),p=t.n(f);var g=function(){return r.a.createElement("article",{className:p.a.home},r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque auctor urna vel arcu sollicitudin porta. Aliquam facilisis fermentum interdum. In fringilla, nisi eu hendrerit eleifend, ex neque ullamcorper lorem, quis convallis ligula nulla eget eros. Integer blandit tortor nec elementum condimentum. Pellentesque sagittis nibh et purus pretium efficitur. Duis molestie, felis vitae fringilla bibendum, quam mi egestas diam, in elementum neque arcu sed diam. Donec pretium augue et efficitur convallis."),r.a.createElement("p",null,"Nulla sit amet nulla sed risus convallis maximus. Nullam posuere, purus a iaculis vulputate, erat lorem semper mi, id pretium nulla sem a elit. Phasellus ex massa, laoreet eget augue sit amet, tempus consequat nibh. Nunc pharetra justo ullamcorper, egestas diam a, interdum ipsum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Aenean et malesuada neque. Etiam erat diam, lobortis ut nisl ut, sollicitudin tempus urna. Nam ac odio mi."))},E=t(15),b=Object(n.createContext)();function v(){var e=Object(n.useContext)(b),a=Object(E.a)(e,2);return{config:a[0],updateConfig:a[1]}}function k(e){var a=e.children,t=Object(n.useState)({stockReturns:.081,bondReturns:.024,avgTaxRate:.3,goal:{amount:3e4,wr:.04},spending:[],income:[],investments:[],portfolio:[]});return r.a.createElement(b.Provider,{value:t},a)}var y=t(11),h=t(10),_=t(24),N=t(47),O=t(7),j=t.n(O),C=function(e,a){return Object.keys(e).reduce((function(t,n){return t[n]=a(e[n]),t}),{})},x=function(e){return!isNaN(Number(e))},R=function(e){var a=e.name,t=e.label,n=e.value,c=e.registered,o=e.error;return r.a.createElement("div",{className:j.a["input-group"]},r.a.createElement("label",{htmlFor:a},t),r.a.createElement("input",{className:o&&j.a.error,name:a,defaultValue:n,ref:c}))};function I(){var e=Object(N.a)({mode:"onBlur"}),a=e.register,t=e.handleSubmit,n=e.errors,c=v(),o=c.config,i=c.updateConfig;return r.a.createElement("form",{className:j.a.basic,onChange:t((function(e){i((function(a){return Object(_.a)({},a,{},C(e,Number))}))}))},r.a.createElement(R,{name:"stockReturns",label:"Annual Stock Returns",value:o.stockReturns,registered:a({required:!0,validate:x}),error:n.stockReturns}),r.a.createElement(R,{name:"bondReturns",label:"Annual Bond Returns",value:o.bondReturns,registered:a({required:!0,validate:x}),error:n.bondReturns}),r.a.createElement(R,{name:"avgTaxRate",label:"Average Tax Rate",value:o.avgTaxRate,registered:a({required:!0,validate:x}),error:n.avgTaxRate}))}function q(e){var a=e.name,t=e.dataKey,c=Object(N.a)(),o=c.register,i=c.handleSubmit,l=c.errors,u=c.reset,m=v(),s=m.config,d=m.updateConfig,f=Object(n.useState)(s[a]),p=Object(E.a)(f,2),g=p[0],b=p[1];return Object(n.useEffect)((function(){d((function(e){return Object(_.a)({},e,Object(y.a)({},a,g))}))}),[g,a,d]),r.a.createElement("div",{className:j.a["dynamic-group"]},r.a.createElement("h3",null,a),r.a.createElement("div",{className:j.a["dynamic-list"]},r.a.createElement("div",{className:j.a.header},r.a.createElement("span",{className:j.a["key-title"]},"age"),r.a.createElement("span",{className:j.a["value-title"]},t)),g.map((function(e,a){return r.a.createElement("div",{className:j.a.item,key:a},r.a.createElement("span",{className:j.a.key},e.age),r.a.createElement("span",{className:j.a.value},e[t]),r.a.createElement("span",{onClick:function(){return e=a,void b((function(a){var t=Object(h.a)(a);return t.splice(e,1),t}));var e},className:j.a.remove},"\u2a2f"))}))),r.a.createElement("form",{className:j.a["add-item"],onSubmit:i((function(e){b((function(a){return[].concat(Object(h.a)(a),[C(e,Number)])})),u()}))},r.a.createElement("input",{className:l.age&&j.a.error,name:"age",placeholder:"age",ref:o({required:!0,validate:x})}),r.a.createElement("input",{className:l[t]&&j.a.error,name:t,placeholder:t,ref:o({required:!0,validate:x})}),r.a.createElement("button",{type:"submit"},"add")))}function M(){var e=Object(N.a)(),a=e.register,t=e.handleSubmit,c=e.getValues,o=e.errors,i=e.reset,l=v(),u=l.config,m=l.updateConfig,s=Object(n.useState)(u.portfolio),d=Object(E.a)(s,2),f=d[0],p=d[1],g=function(){var e=c();return Number(e.stock)+Number(e.bond)===1};return Object(n.useEffect)((function(){m((function(e){return Object(_.a)({},e,{portfolio:f})}))}),[f,m]),r.a.createElement("div",{className:j.a["dynamic-portfolio"]},r.a.createElement("h3",null,"portfolio"),r.a.createElement("div",{className:j.a["dynamic-list"]},r.a.createElement("div",{className:j.a.header},r.a.createElement("span",{className:j.a["key-title"]},"age"),r.a.createElement("span",{className:j.a["value-title"]},["stock","bond"].join(" - "))),f.map((function(e,a){return r.a.createElement("div",{className:j.a.item,key:a},r.a.createElement("span",{className:j.a.key},e.age),r.a.createElement("span",{className:j.a.value},"".concat(e.repartition.stock," - ").concat(e.repartition.bond)),r.a.createElement("span",{onClick:function(){return e=a,void p((function(a){var t=Object(h.a)(a);return t.splice(e,1),t}));var e},className:j.a.remove},"\u2a2f"))}))),r.a.createElement("form",{className:j.a["add-item"],onSubmit:t((function(e){var a=C(e,Number),t={age:a.age,repartition:{stock:a.stock,bond:a.bond}};p((function(e){return[].concat(Object(h.a)(e),[t])})),i()}))},r.a.createElement("input",{className:o.age&&j.a.error,name:"age",placeholder:"age",ref:a({required:!0,validate:x})}),r.a.createElement("input",{className:o.stock&&j.a.error,name:"stock",placeholder:"stock",ref:a({required:!0,validate:{isNumber:x,isOne:g}})}),r.a.createElement("input",{className:o.bond&&j.a.error,name:"bond",placeholder:"bond",ref:a({required:!0,validate:{isNumber:x,isOne:g}})}),r.a.createElement("button",{type:"submit"},"add")))}function K(){return r.a.createElement("div",{className:j.a.dynamic},r.a.createElement(q,{title:"Investments",name:"investments",dataKey:"amount"}),r.a.createElement(q,{title:"Income",name:"income",dataKey:"amount"}),r.a.createElement(q,{title:"Spending",name:"spending",dataKey:"amount"}),r.a.createElement(M,null))}function S(){var e=Object(N.a)(),a=e.register,t=e.handleSubmit,n=e.errors,c=v(),o=c.config,i=c.updateConfig;return r.a.createElement("form",{className:j.a.goal,onChange:t((function(e){i((function(a){return Object(_.a)({},a,{goal:C(e,Number)})}))}))},r.a.createElement(R,{name:"amount",label:"Goal",value:o.goal.amount,registered:a({required:!0,validate:x}),error:n.amount}),r.a.createElement(R,{name:"wr",label:"Safe Withdrawal Rate",value:o.goal.wr,registered:a({required:!0,validate:x}),error:n.wr}))}var w=function(){return r.a.createElement("div",{className:j.a.configuration},r.a.createElement(I,null),r.a.createElement(K,null),r.a.createElement(S,null))},A=t(86),D=t.n(A),T=t(6);function B(e){var a=e.boundaries,t=e.income,c=e.spending,o=e.investments,i=e.repartition,l=Object(n.useMemo)((function(){return o.map((function(e,t){return{age:a.min+t,investment:e}}))}),[o,a]),u=Object(n.useMemo)((function(){return t.map((function(e,t){return{age:a.min+t,income:e,spending:c[t]}}))}),[t,c,a]),m=Object(n.useMemo)((function(){return i.map((function(e,t){return Object(_.a)({age:a.min+t},e)}))}),[i,a]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Summary"),r.a.createElement(T.b,{width:320,height:160,data:u,syncId:"summary"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorSpending",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(T.e,{strokeDasharray:"3 3"}),r.a.createElement(T.j,{dataKey:"age",stroke:"#ccc"}),r.a.createElement(T.k,{stroke:"#ccc"}),r.a.createElement(T.i,null),r.a.createElement(T.a,{type:"monotone",dataKey:"income",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorIncome)"}),r.a.createElement(T.a,{type:"monotone",dataKey:"spending",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorSpending)"})),r.a.createElement(T.d,{width:320,height:160,data:l,syncId:"summary"},r.a.createElement(T.e,{strokeDasharray:"3 3"}),r.a.createElement(T.j,{dataKey:"age",stroke:"#ccc"}),r.a.createElement(T.k,{stroke:"#ccc"}),r.a.createElement(T.i,null),r.a.createElement(T.c,{dataKey:"investment",fill:"#82ca9d"})),r.a.createElement(T.b,{width:320,height:160,data:m,syncId:"summary"},r.a.createElement(T.e,{strokeDasharray:"3 3"}),r.a.createElement(T.j,{dataKey:"age",stroke:"#ccc"}),r.a.createElement(T.k,{stroke:"#ccc"}),r.a.createElement(T.i,null),r.a.createElement(T.a,{type:"monotone",dataKey:"bond",stackId:"1",stroke:"#8884d8",fill:"#8884d8"}),r.a.createElement(T.a,{type:"monotone",dataKey:"stock",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d"})))}function F(e){var a=e.boundaries,t=e.balance,c=e.target,o=Object(n.useMemo)((function(){return t.map((function(e,t){return Object(_.a)({age:a.min+t},e)}))}),[t,a]),i=Object(n.useMemo)((function(){return t.map((function(e,t){return{age:a.min+t,stock:(e.stock/(e.bond+e.stock)).toFixed(3),bond:(e.bond/(e.bond+e.stock)).toFixed(3)}}))}),[t,a]);return r.a.createElement("div",null,r.a.createElement(T.h,{width:"100%",height:320},r.a.createElement(T.f,{data:o,syncId:"result"},r.a.createElement(T.e,{strokeDasharray:"3 3"}),r.a.createElement(T.j,{dataKey:"age",stroke:"#ccc"}),r.a.createElement(T.k,{stroke:"#ccc"}),r.a.createElement(T.i,null),r.a.createElement(T.a,{type:"monotone",dataKey:"bond",stackId:"1",stroke:"#8884d8",fill:"#8884d8"}),r.a.createElement(T.a,{type:"monotone",dataKey:"stock",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d"}),r.a.createElement(T.g,{y:c,label:"FIRE Target",stroke:"red"}))),r.a.createElement(T.h,{width:"100%",height:224},r.a.createElement(T.b,{data:i,syncId:"result"},r.a.createElement(T.e,{strokeDasharray:"3 3"}),r.a.createElement(T.j,{dataKey:"age",stroke:"#ccc"}),r.a.createElement(T.k,{stroke:"#ccc"}),r.a.createElement(T.i,null),r.a.createElement(T.a,{type:"monotone",dataKey:"bond",stackId:"1",stroke:"#8884d8",fill:"#8884d8"}),r.a.createElement(T.a,{type:"monotone",dataKey:"stock",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d"}))))}var P=function(e,a){var t=0;return Object(h.a)(Array(e.years)).map((function(n,r){var c=a.find((function(a){return a.age===e.min+r}));return c&&(t=c.amount),t}))},V=function(e,a){return Object(h.a)(Array(e.years)).map((function(t,n){var r=a.find((function(a){return a.age===e.min+n}));return r?r.amount:0}))},G=function(e,a){var t={stock:0,bond:0,cash:0};return Object(h.a)(Array(e.years)).map((function(n,r){var c=a.find((function(a){return a.age===e.min+r}));return c&&(t=c.repartition),t}))},H=function(e,a,t,n){var r={stock:0,bond:0};return t.map((function(t,c){return r=function(e,a,t,n,r){var c=e.stock+e.bond,o=c+a,i={stock:r.stock*o-e.stock,bond:r.bond*o-e.bond},l=e.stock+Math.min(a,Math.max(0,i.stock)),u=e.bond+Math.min(a,Math.max(0,i.bond)),m=c+a+t,s={stock:r.stock*m-l,bond:r.bond*m-u};return{stock:e.stock*(1+n.stock)+Math.min(a,Math.max(0,i.stock))*(1+n.stock)+Math.min(t,Math.max(0,s.stock))*(1+n.stock),bond:e.bond*(1+n.bond)+Math.min(a,Math.max(0,i.bond))*(1+n.bond)+Math.min(t,Math.max(0,s.bond))*(1+n.bond)}}(r,a[c],t,e,n[c])}))};function U(e){var a=function(e){var a=80;return console.log(e),e.income.forEach((function(e){e.age<a&&(a=e.age)})),e.spending.forEach((function(e){e.age<a&&(a=e.age)})),e.investments.forEach((function(e){e.age<a&&(a=e.age)})),e.portfolio.forEach((function(e){e.age<a&&(a=e.age)})),{min:a,max:80,years:80-a}}(e);console.log(a);var t=[P(a,e.income),P(a,e.spending),V(a,e.investments),G(a,e.portfolio)],n=t[0],r=t[1],c=t[2],o=t[3],i=e.goal.amount/(1-e.avgTaxRate)/e.goal.wr,l=function(e,a){return e.map((function(e,t){return e-a[t]}))}(n,r),u=H({stock:e.stockReturns,bond:e.bondReturns},c,l,o);return console.log(u),{boundaries:a,income:n,spending:r,investments:c,repartition:o,savings:l,balance:u,target:i}}var Z=function(){var e=v().config,a=Object(n.useMemo)((function(){return U(e)}),[e]),t=a.boundaries,c=a.income,o=a.spending,i=a.investments,l=a.repartition,u=a.balance,m=a.target;return r.a.createElement("div",{className:D.a.results},r.a.createElement(B,{boundaries:t,income:c,spending:o,investments:i,repartition:l}),r.a.createElement("div",{className:D.a.block},r.a.createElement(F,{boundaries:t,balance:u,target:m})))};var z=function(){return r.a.createElement(k,null,r.a.createElement(w,null),r.a.createElement(Z,null))};var J=function(){return r.a.createElement("article",null,r.a.createElement(z,null))},L=function(e){return r.a.createElement("main",e,r.a.createElement(i.a,null))};var Q=function(){return r.a.createElement(u,null,r.a.createElement(d,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/*",element:r.a.createElement(L,null)},r.a.createElement(i.b,{path:"",element:r.a.createElement(g,null)}),r.a.createElement(i.b,{path:"early-retirement",element:r.a.createElement(J,null)}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root"))},7:function(e,a,t){e.exports={configuration:"Configuration_configuration__lembR",error:"Configuration_error__2gdp3",basic:"Configuration_basic__3BtaF",dynamic:"Configuration_dynamic__2VQiA",goal:"Configuration_goal__1gR7h","input-group":"Configuration_input-group__1D6IB","dynamic-group":"Configuration_dynamic-group__Ul93l","dynamic-portfolio":"Configuration_dynamic-portfolio__12cUU","dynamic-list":"Configuration_dynamic-list__3wrYy",header:"Configuration_header__1-ueq","key-title":"Configuration_key-title__i3tFS","value-title":"Configuration_value-title__1xQC0",item:"Configuration_item__1ZS3h",key:"Configuration_key__13x9Z",value:"Configuration_value__3shjA",remove:"Configuration_remove__9oc4I","add-item":"Configuration_add-item__3arbO",click:"Configuration_click__BEKVz"}},86:function(e,a,t){e.exports={results:"Results_results__3Bszj",block:"Results_block__30bvc",click:"Results_click__3TZpp"}}},[[171,1,2]]]);
//# sourceMappingURL=main.9c137239.chunk.js.map